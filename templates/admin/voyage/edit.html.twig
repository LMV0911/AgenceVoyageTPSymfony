{% extends 'base.html.twig' %}

{% block title %}Modifier le voyage
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
	<style>
		.select2-container--default .select2-selection--multiple {
			border: 1px solid #e5e7eb;
			border-radius: 0.375rem;
			padding: 0.25rem;
		}
		.select2-dropdown {
			border: 1px solid #e5e7eb;
			border-radius: 0.375rem;
		}
	</style>
{% endblock %}

{% block body %}
	<div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8 mt-8">
		<h1 class="text-3xl font-bold text-gray-800 mb-6">Modifier le voyage</h1>

		{{ form_start(form, {attr: {class: 'space-y-6'}}) }}

		<div
			class="grid grid-cols-1 md:grid-cols-2 gap-6">
			<!-- Colonne gauche -->
			<div class="space-y-4">
				<div>
					{{ form_label(form.titre, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
					{{ form_widget(form.titre, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'}}) }}
					{{ form_errors(form.titre) }}
				</div>

				<div>
					{{ form_label(form.prix, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
					{{ form_widget(form.prix, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'}}) }}
					<p class="mt-2 text-sm text-gray-500">{{ form.prix.vars.help }}</p>
					{{ form_errors(form.prix) }}
				</div>

				<div>
					{{ form_label(form.date_debut, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
					{{ form_widget(form.date_debut, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'}}) }}
					{{ form_errors(form.date_debut) }}
				</div>
			</div>

			<!-- Colonne droite -->
			<div class="space-y-4">
				<div>
					{{ form_label(form.pays, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
					{{ form_widget(form.pays, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm select2'}}) }}
					{{ form_errors(form.pays) }}
				</div>

				<div>
					{{ form_label(form.activites, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
					{{ form_widget(form.activites, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm select2'}}) }}
					<p class="mt-2 text-sm text-gray-500">{{ form.activites.vars.help }}</p>
					{{ form_errors(form.activites) }}
				</div>

				<div>
					{{ form_label(form.date_fin, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
					{{ form_widget(form.date_fin, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'}}) }}
					{{ form_errors(form.date_fin) }}
				</div>
			</div>
		</div>

		<!-- Description en pleine largeur -->
		<div class="col-span-full">
			{{ form_label(form.description, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
			{{ form_widget(form.description, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 h-32'}}) }}
			{{ form_errors(form.description) }}
		</div>

		<!-- Boutons d'action -->
		<div class="flex justify-end space-x-4 mt-8">
			<a href="{{ path('app_voyage_index') }}" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
				Annuler
			</a>
			<button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
				Enregistrer les modifications
			</button>
		</div>

		{{ form_end(form) }}
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
	<script>
		$(document).ready(function () {
$('.select2').select2({placeholder: "SÃ©lectionnez...", allowClear: true, width: 'resolve'});
});
	</script>
{% endblock %}
